<template>
    <div class="portfolio-files scroll-able">
        <div class="theme-container">
            <div class="tabs">
                <div class="tab all hoverable">
                    <div class="line"></div>
                    <div class="title heading-light active">ALL</div>
                </div>
                <div class="tab branding hoverable">
                    <div class="line"></div>
                    <div class="title heading-light">BRANDING</div>
                </div>
                <div class="tab logo hoverable">
                    <div class="line"></div>
                    <div class="title heading-light">LOGO</div>
                </div>
                <div class="tab website hoverable">
                    <div class="line"></div>
                    <div class="title heading-light">WEBSITE</div>
                </div>
                <div class="tab development hoverable">
                    <div class="line"></div>
                    <div class="title heading-light">DEVELOPMENT</div>
                </div>
            </div>
            <div v-html="projects"></div>
            <div class="work-section">
                <div v-for="project in projects" :key="project.id" class="item1 items main hoverable">
                    <img  v-bind:src="'project-images/' + project.imgcover" alt="cover">
                    <div class="details">
                        <div class="text">
                            <div v-text="project.title" class="title"></div>
                            <div v-text="project.category" class="category"></div>
                            <div v-text="project.year" class="year"></div>
                        </div>
                        <div class="colors"></div>
                            <div v-for="color in project.colors" :key="color" v-bind:style="{'background':color}" class="color"></div>
                            <!-- <div class="color black"></div> -->
                        </div>
                    </div>
                </div>
                <!-- <div class="item1 items main hoverable">
                    <img src="images/brand-mockup.jpg" alt="Portfolio">
                    <div class="details">
                        <div class="text">
                            <div class="title">TITTLE NAME</div>
                            <div class="category">Category</div>
                            <div class="year">Year</div>
                        </div>
                        <div class="colors">
                            <div class="color blue"></div>
                            <div class="color black"></div>
                        </div>
                    </div>
                </div>
                <div class="item2 items hoverable">
                    <img src="images/brand-mockup.jpg" alt="Portfolio">
                    <div class="details">
                        <div class="text">
                            <div class="title">TITTLE NAME</div>
                            <div class="category">Category</div>
                            <div class="year">Year</div>
                        </div>
                        <div class="colors">

                        </div>
                    </div>
                </div>
                <div class="item3 items hoverab le">
                    <img src="images/brand-mockup.jpg" alt="Portfolio">
                    <div class="details">
                        <div class="text">
                            <div class="title">TITTLE NAME</div>
                            <div class="category">Category</div>
                            <div class="year">Year</div>
                        </div>
                        <div class="colors">

                        </div>
                    </div>
                </div>
                <div class="item4 items hoverable">
                    <img src="images/brand-mockup.jpg" alt="Portfolio">
                    <div class="details">
                        <div class="text">
                            <div class="title">TITTLE NAME</div>
                            <div class="category">Category</div>
                            <div class="year">Year</div>
                        </div>
                        <div class="colors">

                        </div>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
</template>

<style lang="scss" scoped>
@import '../../../../sass/app.scss';

.portfolio-files{
    width: 100vw;
    // background-color: red;
    .tabs{
        padding:3rem 0;
        display:flex;
        justify-content: center;
        .tab{
            padding: 0 2rem;
            .line{
                height: 0.7rem;
                width: 5rem;
            }
            .title{
                padding: 0.5rem 0;
                color:$black;
                font-weight: $font-weight-regular;
                opacity: 0.5;
                letter-spacing: 1px;
            }
            .active{
                color: $primary;
                opacity: 1;
            }
        }
        .all{
            .line{
                background-color: $white;
            }
        }
        .branding{
            .line{
                background-color: $primary;
            }
        }
        .logo{
            .line{
                background-color: $secondary;
            }
        }
        .website{
            .line{
                background-color: #FF8C33;
            }
        }
        .development{
            .line{
                background-color: #53F86B;
            }
        }
    }
    .work-section{
        display: flex;
        flex-wrap: wrap;
        width: 90%;
        margin: auto;
        .items{
            padding:0 1.5rem;
            height: 78vh;
            width: 25%;
            position: relative;
            z-index: 1;
            transition: margin 0.3s ease-in-out;

            img{
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: drop-shadow(3px 3px 3px rgba(0,0,0,0.25));
            transition: filter 0.3s ease-in-out;
            }
            .details{
                top: 20%;
                right: -20%;
                position: absolute;
                width: 90%;
                height: 15%;
                background: #FBFBFB;
                filter: drop-shadow(3px 3px 3px rgba(0,0,0,0.25));
                transition: filter 0.3s ease-in-out;
                display: flex;
                .text{
                    flex:9;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    padding-left: 1rem;
                    .title , .category , .year{
                        font-size: $font-size-regular;
                        color: $black;
                        font-weight:$font-weight-medium;
                        letter-spacing: 4px;
                        line-height: 1.3rem;
                    }
                    .category , .year{
                        opacity: 0.5;
                    }
                }
                .colors{
                    height: 100%;
                    width: 100%;
                    flex: 0.4;
                    .color{
                        width: 100%;
                    }
                    // .blue{
                    //     background: blue;
                    //     height: 50%;
                    //     width: 100%;
                    // }
                    // .black{
                    //     height: 50%;
                    //     width: 100%;
                    //      background: black;
                    // }
                }
            }
            &:hover{
                img{
                    filter: drop-shadow(3px 3px 10px $black-shadow);
                }
                .details{
                    filter: drop-shadow(3px 3px 10px $black-shadow);
                }
            }

            $odd-items-margin: 3rem;
            $even-items-margin: 6rem;
            &:nth-child(odd){
                margin-top:$odd-items-margin;
                &:hover{
                    margin-top:$odd-items-margin - $odd-items-margin;
                }
            }
            &:nth-child(even){
                margin-top:$even-items-margin;
                 &:hover{
                    margin-top:$even-items-margin - $odd-items-margin;
                }
            }
            &:hover{
                z-index: 10 !important;
            }


        }
        .item1{
            z-index: 4;
        }
        .item2{
            z-index: 3;
        }
        .item3{
            z-index: 2;
        }
        .item4{
            z-index: 1;
        }

    }
}
</style>

 <script>
export default{

    props:['data'],

    data(){
        $.each(this.data[0], function (indexInArray, valueOfElement) {
             console.log((valueOfElement.split(',').length));
        });
        return{
            projects:this.data,
            // img:this.data[0],
        }
    }
}

 $(function(){

     $(window).scroll(function(){
         // scroll down element opacity
         if( $('.portfolio-files').length ) {
             let offsetportfolio = ($('.portfolio-files').offset().top)-300;
             let offsetfooter = ($('.main-footer').offset().top)-300;
             let offsetwindow = $(window).scrollTop();
             if(offsetportfolio < offsetwindow && offsetfooter > offsetwindow){
                 $(".portfolio-body").css({
                 'background-color': '#FBFBFB',
                 });
             }
             else{
                     $(".portfolio-body").css({
                 'background-color': "rgba(0,0,0,0)",
                 });
             }
         }
     })
 })

</script>
